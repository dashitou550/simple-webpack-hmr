<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
var validPalindrome = function(str) {
    function valid(str, left, mid, right, isValidSub){
        while (left <= mid) {
            if(str.charAt(left) !== str.charAt(right)){
                if(isValidSub){
                    return false;
                }else{
                    return valid(str, left, mid - 1, right - 1, true) || valid(str, left + 1, mid + 1, right, true);
                }
            }
            left++;
            right--;
        }
        return true;
    }
    return valid(str, 0, Math.floor(str.length / 2), str.length - 1, false);
};
console.log(validPalindrome('abc'));
console.log(validPalindrome('abwccba'));
console.log(validPalindrome('abccwba'));
console.log(validPalindrome('aba'));
console.log(validPalindrome("aabdeenddbaagbddeedbaa"));
</script>
</body>
</html>